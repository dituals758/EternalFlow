<!DOCTYPE html>
<html lang="ru" dir="ltr">

<head>
    <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#0c0d2d" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>Eternal Flow - Отслеживание времени</title>
    <meta name="description" content="Приложение для отслеживания важных событий и моментов" />
    <link rel="icon" href="./icon-32.png" />
    <link rel="apple-touch-icon" href="./icon-192.png" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <div class="dynamic-island" id="dynamicIsland" aria-label="Установка приложения" role="group"
        style="display: none;">
        <div class="island-text">Eternal Flow</div>
    </div>

    <div class="particles" id="particles"></div>

    <div class="container">
        <header class="app-header">
            <div class="logo">
                <div class="logo-icon" aria-label="Иконка приложения">
                    <img src="./icon-192.png" alt="Eternal Flow" />
                </div>
                <div>
                    <h1>Eternal Flow</h1>
                    <div class="logo-subtitle">Запечатлейте важные моменты</div>
                </div>
            </div>

            <div class="header-controls" id="headerControls">
                <div class="search-box">
                    <svg viewBox="0 0 24 24" class="search-icon">
                        <linearGradient id="search-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#36bff1" />
                            <stop offset="100%" stop-color="#9f5ae3" />
                        </linearGradient>
                        <path
                            d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"
                            fill="url(#search-gradient)" />
                    </svg>
                    <input type="text" id="searchInput" placeholder="Поиск событий..." aria-label="Поиск событий" />
                </div>

                <div class="filters-sort">
                    <div class="filter-group">
                        <select id="filterSelect" class="form-input" aria-label="Фильтр событий">
                            <option value="all">Все события</option>
                            <option value="upcoming">Предстоящие</option>
                            <option value="past">Прошедшие</option>
                        </select>
                    </div>

                    <div class="sort-group">
                        <select id="sortSelect" class="form-input" aria-label="Сортировка событий">
                            <option value="date-asc">По дате ↑</option>
                            <option value="date-desc">По дате ↓</option>
                            <option value="title-asc">По названию А-Я</option>
                            <option value="title-desc">По названию Я-А</option>
                            <option value="added-asc">По дате добавления ↑</option>
                            <option value="added-desc">По дате добавления ↓</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="action-buttons">
                <button id="openEventFormBtn" class="action-btn" aria-label="Добавить событие">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <linearGradient id="add-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#36bff1" />
                            <stop offset="100%" stop-color="#9f5ae3" />
                        </linearGradient>
                        <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="url(#add-gradient)" />
                    </svg>
                    <span class="button-text">Добавить</span>
                </button>
                
                <button id="importBtn" class="action-btn" aria-label="Импорт событий">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <linearGradient id="import-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#36bff1" />
                            <stop offset="100%" stop-color="#9f5ae3" />
                        </linearGradient>
                        <path d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" fill="url(#import-gradient)" />
                    </svg>
                    <span class="button-text">Импорт</span>
                </button>
                
                <button id="exportBtn" class="action-btn" aria-label="Экспорт событий">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <linearGradient id="export-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#36bff1" />
                            <stop offset="100%" stop-color="#9f5ae3" />
                        </linearGradient>
                        <path d="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z" fill="url(#export-gradient)" />
                    </svg>
                    <span class="button-text">Экспорт</span>
                </button>
                
                <button id="clearBtn" class="action-btn danger" aria-label="Очистить все события">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <linearGradient id="clear-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#ff6b6b" />
                            <stop offset="100%" stop-color="#d14545" />
                        </linearGradient>
                        <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"
                            fill="url(#clear-gradient)" />
                    </svg>
                    <span class="button-text">Очистить</span>
                </button>
            </div>

            <div class="modal" id="eventModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 id="modalTitle">Добавить новое событие</h2>
                        <button class="close-modal" id="closeEventModal" aria-label="Закрыть">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor"
                                    d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
                            </svg>
                        </button>
                    </div>
                    <div class="event-form" aria-label="Форма добавления события">
                        <div class="form-group">
                            <label for="eventTitle" class="form-label">
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <linearGradient id="title-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#36bff1" />
                                        <stop offset="100%" stop-color="#9f5ae3" />
                                    </linearGradient>
                                    <path
                                        d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"
                                        fill="url(#title-gradient)" />
                                </svg>
                                Название события
                            </label>
                            <input type="text" id="eventTitle" class="form-input form-input-large"
                                placeholder="Например: Новый год, День рождения, Дедлайн проекта" maxlength="50"
                                required autocomplete="off" autocorrect="on" autocapitalize="sentences"
                                aria-required="true" />
                        </div>

                        <div class="form-group">
                            <label for="eventDate" class="form-label">
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <linearGradient id="date-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#36bff1" />
                                        <stop offset="100%" stop-color="#9f5ae3" />
                                    </linearGradient>
                                    <path
                                        d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"
                                        fill="url(#date-gradient)" />
                                </svg>
                                Дата и время
                            </label>
                            <input type="datetime-local" id="eventDate" class="form-input" required
                                aria-required="true" />
                        </div>

                        <button id="saveEventBtn" class="btn" aria-label="Сохранить событие">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="white"
                                    d="M17,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3M19,19H5V5H16.17L19,7.83V19M12,12A4,4 0 0,0 8,16A4,4 0 0,0 12,20A4,4 0 0,0 16,16A4,4 0 0,0 12,12Z" />
                            </svg>
                            Сохранить событие
                        </button>
                    </div>
                </div>
            </div>

            <div class="events-container" id="eventsContainer" aria-label="Список событий">
                <!-- Скелетоны будут генерироваться динамически -->
            </div>

            <div class="app-info" aria-label="Информация о приложении">
                <p>Данные хранятся только на вашем устройстве - 100% конфиденциальность.</p>
                <p>Eternal Flow <span class="app-version"></span></p>
                <p>
                    <a href="https://github.com/dituals758/EternalFlow" target="_blank" rel="noopener" class="github-link">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <linearGradient id="github-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#36bff1" />
                                <stop offset="100%" stop-color="#9f5ae3" />
                            </linearGradient>
                            <path fill="url(#github-gradient)" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
                        </svg>
                        GitHub репозиторий
                    </a>
                </p>
                <p>Код приложения сгенерирован DeepSeek. Иконка приложения сгенерирована YandexART.</p>
            </div>
        </main>
    </div>

    <div class="notification" id="notification" role="status" aria-live="polite"></div>

    <script type="module" src="./app.js"></script>
</body>

</html>