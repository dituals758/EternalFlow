<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#0c0d2d" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>EternalFlow: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π</title>
    <meta name="description" content="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –∏ –ø–æ—Å–ª–µ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π" />
    <link rel="icon" href="./icon-32.png" />
    <link rel="apple-touch-icon" href="./icon-192.png" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <div class="dynamic-island" id="dynamicIsland" aria-label="–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" role="group" style="display: none;">
        <div class="island-text">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å EternalFlow</div>
    </div>

    <div class="particles" id="particles"></div>

    <div class="container">
        <header class="app-header">
            <div class="logo">
                <div class="logo-icon" aria-label="–ò–∫–æ–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">
                    <img src="./icon-192.png" alt="EternalFlow" />
                </div>
                <div class="logo-text">
                    <h1>EternalFlow</h1>
                    <p class="app-version"></p>
                </div>
            </div>

            <div class="header-actions">
                <button id="searchToggle" class="header-action-btn" aria-label="–ü–æ–∏—Å–∫">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" 
                            d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                    </svg>
                </button>
                <button id="filterToggle" class="header-action-btn" aria-label="–§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" 
                            d="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z" />
                    </svg>
                </button>
            </div>
        </header>

        <div class="search-expanded" id="searchExpanded">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Å–æ–±—ã—Ç–∏–π..." aria-label="–ü–æ–∏—Å–∫ —Å–æ–±—ã—Ç–∏–π" />
                <button id="closeSearch" class="close-search" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
                    </svg>
                </button>
            </div>
        </div>

        <main>
            <h1 class="sr-only">EternalFlow - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π</h1>
            
            <div class="action-buttons">
                <button id="openEventFormBtn" class="action-btn primary" aria-label="–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path fill="currentColor" d="M19,13H13V19H11V13H5V11H13V5H15V11H19V13Z" />
                    </svg>
                    <span class="button-text">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</span>
                </button>
                
                <div class="utility-buttons">
                    <button id="importBtn" class="action-btn icon-only" aria-label="–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
                        </svg>
                    </button>
                    
                    <button id="exportBtn" class="action-btn icon-only" aria-label="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M5,20H19V18H5M5,15H9V3H15V15H19L12,22L5,15Z" />
                        </svg>
                    </button>
                    
                    <button id="clearBtn" class="action-btn icon-only danger" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="modal" id="eventModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 id="modalTitle">–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ</h2>
                        <button class="close-modal" id="closeEventModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor"
                                    d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
                            </svg>
                        </button>
                    </div>
                    <div class="event-form" aria-label="–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è">
                        <div class="form-group">
                            <label for="eventTitle" class="form-label">
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"
                                        fill="currentColor" />
                                </svg>
                                –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
                            </label>
                            <input type="text" id="eventTitle" class="form-input form-input-large"
                                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π –≥–æ–¥, –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –î–µ–¥–ª–∞–π–Ω" maxlength="50"
                                required autocomplete="off" autocorrect="on" autocapitalize="sentences"
                                aria-required="true" />
                        </div>

                        <div class="form-group">
                            <label for="eventDate" class="form-label">
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"
                                        fill="currentColor" />
                                </svg>
                                –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
                            </label>
                            <input type="datetime-local" id="eventDate" class="form-input" required
                                aria-required="true" />
                        </div>

                        <button id="saveEventBtn" class="btn primary" aria-label="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor"
                                    d="M17,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3M19,19H5V5H16.17L19,7.83V19M12,12A4,4 0 0,0 8,16A4,4 0 0,0 12,20A4,4 0 0,0 16,16A4,4 0 0,0 12,12Z" />
                            </svg>
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>

            <div class="events-container" id="eventsContainer" aria-label="–°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π">
                <!-- –°–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <div class="app-info" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏">
                <p>üîê –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</p>
                <p>
                    <a href="https://github.com/dituals758/EternalFlow" target="_blank" rel="noopener" class="github-link">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
                        </svg>
                        –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ GitHub
                    </a>
                </p>
                <p>–ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω DeepSeek. –ò–∫–æ–Ω–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ YandexART.</p>
            </div>
        </main>
    </div>

    <div class="modal" id="filterModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</h2>
                <button class="close-modal" id="closeFilterModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="filterSelect" class="form-label">–§–∏–ª—å—Ç—Ä —Å–æ–±—ã—Ç–∏–π</label>
                    <select id="filterSelect" class="form-input" aria-label="–§–∏–ª—å—Ç—Ä —Å–æ–±—ã—Ç–∏–π">
                        <option value="all">–í—Å–µ —Å–æ–±—ã—Ç–∏—è</option>
                        <option value="upcoming">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ</option>
                        <option value="past">–ü—Ä–æ—à–µ–¥—à–∏–µ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="sortSelect" class="form-label">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                    <select id="sortSelect" class="form-input" aria-label="–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π">
                        <option value="date-asc">–ü–æ –¥–∞—Ç–µ ‚Üë</option>
                        <option value="date-desc">–ü–æ –¥–∞—Ç–µ ‚Üì</option>
                        <option value="title-asc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ê-–Ø</option>
                        <option value="title-desc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –Ø-–ê</option>
                        <option value="added-asc">–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ‚Üë</option>
                        <option value="added-desc">–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ‚Üì</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification" role="status" aria-live="polite"></div>

    <script type="module" src="./app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                window.location.reload();
            });
        }
    </script>
</body>
</html>